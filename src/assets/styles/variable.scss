@use 'sass:color';
@use 'sass:map';
@use 'sass:math';
@use './utils.scss' as *;

// 主题模式
$mode: '' !default;

// 调色板
$colors: (
  'white': #ffffff,
  'black': #000000,
  'primary': #4f46e5,
  'success': #16a34a,
  'warning': #ea580c,
  'danger': #dc2626,
  'error': #dc2626,
  'info': #909399
) !default;

// 基础颜色
$color-white: map.get($colors, 'white') !default;
$color-black: map.get($colors, 'black') !default;
$color-primary: map.get($colors, 'primary') !default;
$color-success: map.get($colors, 'success') !default;
$color-warning: map.get($colors, 'warning') !default;
$color-danger: map.get($colors, 'danger') !default;
$color-error: map.get($colors, 'error') !default;
$color-info: map.get($colors, 'info') !default;

// 文字颜色
$text-color: (
  'primary': #303133,
  'regular': #606266,
  'secondary': #909399,
  'placeholder': #a8abb2,
  'disabled': #c0c4cc
) !default;

// 边框颜色
$border-color: (
  'default': #dcdfe6,
  'light': #e4e7ed,
  'lighter': #ebeef5,
  'extra-light': #f2f6fc,
  'dark': #d4d7de,
  'darker': #cdd0d6
) !default;

// 填充颜色
$fill-color: (
  'default': #f0f2f5,
  'light': #f5f7fa,
  'lighter': #fafafa,
  'extra-light': #fafcff,
  'dark': #ebedf0,
  'darker': #e6e8eb,
  'blank': #ffffff
) !default;

// 背景颜色
$bg-color: (
  'default': #ffffff,
  'page': #f2f3f5,
  'overlay': #ffffff
) !default;

// 覆盖颜色
$overlay-color: (
  'default': rgba(0, 0, 0, 0.8),
  'light': rgba(0, 0, 0, 0.7),
  'lighter': rgba(0, 0, 0, 0.5)
) !default;

// 遮罩颜色
$mask-color: (
  'default': rgba(255, 255, 255, 0.9),
  'extra-light': rgba(255, 255, 255, 0.3)
) !default;

// 阴影
$box-shadow: (
  'default': (
    0px 12px 32px 4px rgba(0, 0, 0, 0.04),
    0px 8px 20px rgba(0, 0, 0, 0.08)
  ),
  'light': 0px 0px 12px rgba(0, 0, 0, 0.12),
  'lighter': 0px 0px 6px rgba(0, 0, 0, 0.12),
  'dark': (
    0px 16px 48px 16px rgba(0, 0, 0, 0.08),
    0px 12px 32px rgba(0, 0, 0, 0.12),
    0px 8px 16px -8px rgba(0, 0, 0, 0.16)
  )
) !default;

// 禁用状态颜色
$disabled: (
  'bg-color': map.get($fill-color, 'light'),
  'text-color': map.get($text-color, 'placeholder'),
  'border-color': map.get($border-color, 'light')
) !default;

// 边框属性
$border-width: 1px !default;
$border-style: solid !default;
$border-color-hover: map.get($text-color, 'disabled') !default;

// 边框半径
$border-radius: (
  'base': 4px,
  'small': 2px,
  'round': 20px,
  'circle': 100%
) !default;

// 字体设置
$font-family: (
  'default':
    "'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif"
) !default;

// 字体大小
$font-size: (
  'extra-large': 20px,
  'large': 18px,
  'medium': 16px,
  'base': 14px,
  'small': 13px,
  'extra-small': 12px
) !default;

// Z-index 值
$z-index: (
  'normal': 1,
  'top': 1000,
  'popper': 2000
) !default;

// 通用组件尺寸
$component-size: (
  'large': 40px,
  'default': 32px,
  'small': 24px
) !default;

// 间距
$spacing: (
  'extra-large': 32px,
  'large': 24px,
  'medium': 16px,
  'small': 8px
) !default;

// 行高
$line-height: (
  'extra-large': 2,
  'large': 1.75,
  'default': 1.5,
  'small': 1.2
) !default;

#{':root' + if($mode == '', '', '.' + $mode)} {
  // 基础颜色
  @each $type in ('white', 'black', 'primary', 'success', 'warning', 'danger', 'error', 'info') {
    #{joinCssVarName('color', $type)}: #{map.get($colors, $type)};
  }

  // 基础颜色-rgb
  @each $type in ('primary', 'success', 'warning', 'danger', 'error', 'info') {
    $color: map.get($colors, $type);
    $value: red($color) + ', ' + green($color) + ', ' + blue($color);
    #{joinCssVarName('color', $type, 'rgb')}: #{$value};
  }

  // 基础颜色-light/dark
  @each $type in ('primary', 'success', 'warning', 'danger', 'error', 'info') {
    $color: map.get($colors, $type);

    @each $i in (3, 5, 7, 8, 9) {
      $value: color.mix(#ffffff, $color, math.percentage(math.div($i, 10)));
      #{joinCssVarName('color', $type, 'light', $i)}: #{$value};
    }

    @each $i in (2) {
      $value: color.mix(#000000, $color, math.percentage(math.div($i, 10)));
      #{joinCssVarName('color', $type, 'dark', $i)}: #{$value};
    }
  }

  // 文字颜色
  @include set-css-var-by-object('text-color', $text-color);

  // 边框颜色
  @include set-css-var-by-object('border-color', $border-color);

  // 填充颜色
  @include set-css-var-by-object('fill-color', $fill-color);

  // 背景颜色
  @include set-css-var-by-object('bg-color', $bg-color);

  // 覆盖颜色
  @include set-css-var-by-object('overlay-color', $overlay-color);

  // 遮罩颜色
  @include set-css-var-by-object('mask-color', $mask-color);

  // 阴影
  @include set-css-var-by-object('box-shadow', $box-shadow);

  // 禁用状态颜色
  @include set-css-var-by-object('disabled', $disabled);

  // 边框属性
  #{joinCssVarName('border-width')}: #{$border-width};
  #{joinCssVarName('border-style')}: #{$border-style};
  #{joinCssVarName('border-color-hover')}: #{$border-color-hover};

  // 边框半径
  @include set-css-var-by-object('border-radius', $border-radius);

  // 字体设置
  @include set-css-var-by-object('font-family', $font-family);

  // 字体大小
  @include set-css-var-by-object('font-size', $font-size);

  // Z-index 值
  @include set-css-var-by-object('z-index', $z-index);

  // 通用组件尺寸
  @include set-css-var-by-object('component-size', $component-size);

  // 间距
  @include set-css-var-by-object('spacing', $spacing);

  // 行高
  @include set-css-var-by-object('line-height', $line-height);
}
